---
import Layout from '@/layouts/Layout.astro';

// Redirect to login if not authenticated
if (!Astro.locals.user) {
	return Astro.redirect('/login');
}

// Check if user has admin role
if (!Astro.locals.user.roles.includes('admin')) {
	return Astro.redirect('/');
}

// Redirect to change password if required
if (Astro.locals.user.requires_password_change) {
	return Astro.redirect('/change-password');
}

export const prerender = false;
---

<Layout title="Admin - Users Management">
	<div class="container mx-auto px-4 py-8">
		<h1 class="text-3xl font-bold mb-4">Users Management</h1>
		<p class="text-muted-foreground">This feature is coming soon...</p>
	</div>
</Layout>

